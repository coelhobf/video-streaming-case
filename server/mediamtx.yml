# MediaMTX Configuration for Paladium Video Pipeline
logLevel: debug
logDestinations: [stdout]

# Keep your API and metrics enabled
api: yes
apiAddress: ":9997"

authInternalUsers:
  - user: any
    pass:
    ips: []
    permissions:
      - action: publish
        path:
      - action: read
        path:
      - action: playback
        path:
      - action: api
      - action: metrics
      - action: pprof
  - user: myuser
    pass: mypass
    ips: []
    permissions:
      - action: api
      - action: metrics
      - action: pprof


# Metrics for monitoring
metrics: yes
metricsAddress: :9996

# SRT input from Pipeline 2
srt: yes  
srtAddress: 0.0.0.0:9998

# HLS output for web browsers
hls: yes
hlsAddress: :8888
hlsAllowOrigin: "*"
hlsSegmentCount: 7
hlsSegmentDuration: 4s
hlsSegmentMaxSize: 50M

# WebRTC output for low-latency web streaming
webrtc: yes
webrtcAddress: :8889
webrtcAllowOrigin: "*"
webrtcLocalUDPAddress: :8189
webrtcIPsFromInterfaces: yes
webrtcLocalTCPAddress: :8189
webrtcAdditionalHosts: ["127.0.0.1"]

# Stream configuration
paths:
  cam1:
    source: publisher

